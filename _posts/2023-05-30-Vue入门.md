---
layout:     post
title:      Vue入门
subtitle:   Vue入门
date:       2023-05-30 
author:     mrhukang
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - 前端
    - Vue
---

>Vue入门（学习教程：https://www.bilibili.com/video/BV1Zy4y1K7SH/?spm_id_from=333.337.search-card.all.click）

# 一、Vue简介
    用于构建用户界面的渐进式JavaScript框架（自底向上逐层的应用，引入各种Vue插件库开发）

#### 特点
	1. 采用组件化，提供代码复用率
	2. 声明式编码，编码人员无需直接操作DOM
    3. 使用虚拟DOM+优秀的Diff算法，尽量复用DOM节点
	
#### 官网
    1. https://cn.vuejs.org/

# 二、Vue安装
    1. 安装
        1.1 使用<script>标签引入
            开发版本：
            生产版本：

            <!DOCTYPE html>
            <html>
                <head>
                    <meta charset="UTF-8" />
                    <title>回顾Object.defineproperty方法</title>
                    <!--引入Vue-->
                    <script type="text/javascript" src="../js/vue.js"></script>
                </head>
            </html>

    2. 安装Vue Devtools（google应用商店或者从此项目tools文件夹下载插件导入google浏览器）
    3. Vs code安装Live Server插件

# 三、Vue教程
    1. 容器使用

    2. 解析步骤
        2.1 先准备容器
        2.2 准备Vue实例
        2.3 Vue实例开始工作时候，根据里面的选择器吧容器拿过来，识别里面{{}}，然后找到data中的属性，解析替换生成新容器

    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>回顾Object.defineproperty方法</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                <!--插值语法-->
                <h1>He，{{name}}</h1>
            </div>
    
            <script type="text/javascript">
                //Vue实例
                const x = new Vue({
                     //指定当前Vue实例为哪个容器服务
                    el:'#root',
                    data:{
                        name:'名字'
                    }
                })
            </script>
        </body>
    </html>

    3. 指令语法

    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>回顾Object.defineproperty方法</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                <!--插值语法-->
                <h1>Hi，{{name}}</h1>
                <h1>指令语法</h1>
                <!-- v-bind:后面的当js表达式执行 -->
                <a v-bind:href="url">点我去跳转</a></div>
                 <!-- v-bind:简写为: -->
                <a :href="url">点我去跳转v2</a>
            </div>
    
            <script type="text/javascript">
                //Vue实例
                const x = new Vue({
                     //指定当前Vue实例为哪个容器服务
                    el:'#root',
                    data:{
                        name:'名字',
                        url:'https://mrhukang.github.io'
                    }
                })
            </script>
        </body>
    </html>

    4. 单向和双向数据绑定

    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>回顾Object.defineproperty方法</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                 <!-- v-model只能用于表单类元素 -->
                 <!-- v-model:value可以简写为v-model使用 -->
                 单向数据绑定：<input type="text" v-bind:value="name"><br/>
                 双向数据绑定：<input type="text" v-model:value="name">
            </div>
    
            <script type="text/javascript">
                //Vue实例
                const x = new Vue({
                     //指定当前Vue实例为哪个容器服务
                    //代替el的写法(使用mount挂载)
                    setTimeout(() => {
                        x.$mount('#root')
                    }, 1000)
                    el:'#root',
                    data:{
                        name:'名字',
                        url:'https://mrhukang.github.io'
                    }
                })
            </script>
        </body>
    </html>
    
     5. el两种写法
    
    <script type="text/javascript">
        //Vue实例
        const x = new Vue({
             //指定当前Vue实例为哪个容器服务
            //代替el的写法(使用mount挂载)
            setTimeout(() => {
                x.$mount('#root')
            }, 1000)
            el:'#root',
            data:{
                name:'名字',
                url:'https://mrhukang.github.io'
            }
        })
    </script>

     6. data两种写法

    <script type="text/javascript">
            //Vue实例
            const x = new Vue({
                 //指定当前Vue实例为哪个容器服务
                el:'#root',
                // data:{
                //     name:'名字',
                //     url:'https://mrhukang.github.io'
                // }
                //第二种：函数式
                data:function(){
                    return{
                        name:"123"
                    }
                }
            })
    </script>

# 四、MVVM模型
    1. M：模型（Model）：对应data中的数据
    2. V：视图（View）：模版
    3. VM：视图模型（ViewModel）：Vue实例对象

# 五、数据代理
#### 1. Object.defineProperty使用
     <script type="text/javascript">
        let person = {
            name:'名字',
            url:'https://mrhukang.github.io'
        }
    
        //此属性不可枚举
        Object.defineproperty(person, 'age', {
            value: 18,
            enumerable: true,   //控制属性是否可以枚举，默认false
            writable: true,     //控制属性是否可以被修改，默认false
            configurable: true,  //控制属性是否可以被删除，默认false
    
            //当有人读取person的age属性时，get函数就会被调用，且返回值就是age的值
            get:function(){
                return 'he'
            }
        })
    </script>

#### 2. Vue中的数据代理

    2.1 通过vm对象来代理data对象中属性的操作（读/写）
    2.2 基本原理：
        通过Object.defineProperty()吧data对象中所有属性添加到vm上，
        为每一个添加到vm上的属性，都指定一个getter/setter。
        在getter/setter内部去操作（读/写）data中对应的属性

# 五、事件处理
#### 1. 事件的基本使用
    1.使用v-on:xxx 或 @xxx 绑定事件，其中xxx是事件名；
    2.事件的回调需要配置在methods对象中，最终会在vm上；
    3.methods中配置的函数，不要用箭头函数！否则this就不是vm了；
    4.methods中配置的函数，都是被Vue所管理的函数，this的指向是vm 或 组件实例对象；
    5.@click="demo" 和 @click="demo($event)" 效果一致，但后者可以传参；

    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>事件的基本使用</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                <h1>欢迎, {{name}}</h1>
                <button v-on:click="showInfo">点我提示（不传参）</button>
                <button @click="showInfo2($event,66)">点我提示2（传参）</button>
            </div>
    
            <script type="text/javascript">
                function showInfo(){
    
                }
    
                //Vue实例
                const x = new Vue({
                    //指定当前Vue实例为哪个容器服务
                    el:'#root',
                    data:{
                        name:'名字',
                        url:'https://mrhukang.github.io'
                    },
                    methods:{
                        showInfo(){
                            alert('123')
                        },
                        showInfo2(event, number){
                            console.log(event, number)
                        }
                    }
                })
            </script>
        </body>
    </html>

#### 2. 事件修饰符
    1. prevent：阻止默认事件（常用）
    2. stop：阻止事件冒泡（常用）
    3. once：时间只触发一次（常用）
    4. capture：使用事件的捕获模式
    5. self：只有event.target是当前操作的元素时才触发事件
    6. passive：事件的默认行为立即执行，无需等待事件回调执行完毕

    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>事件修饰符</title>
            <!-- 引入Vue -->
            <script type="text/javascript" src="../js/vue.js"></script>
            <style>
                *{
                    margin-top: 20px;
                }
                .demo1{
                    height: 50px;
                    background-color: skyblue;
                }
                .box1{
                    padding: 5px;
                    background-color: skyblue;
                }
                .box2{
                    padding: 5px;
                    background-color: orange;
                }
                .list{
                    width: 200px;
                    height: 200px;
                    background-color: peru;
                    overflow: auto;
                }
                li{
                    height: 100px;
                }
            </style>
        </head>
        <body>
            <!-- 
                    Vue中的事件修饰符：
                            1.prevent：阻止默认事件（常用）；
                            2.stop：阻止事件冒泡（常用）；
                            3.once：事件只触发一次（常用）；
                            4.capture：使用事件的捕获模式；
                            5.self：只有event.target是当前操作的元素时才触发事件；
                            6.passive：事件的默认行为立即执行，无需等待事件回调执行完毕；
            -->
            <!-- 准备好一个容器-->
            <div id="root">
                <h2>欢迎来到{{name}}学习</h2>
                <!-- 阻止默认事件（常用） -->
                <a href="http://www.atguigu.com" @click.prevent="showInfo">点我提示信息</a>
    
                <!-- 阻止事件冒泡（常用） -->
                <div class="demo1" @click="showInfo">
                    <button @click.stop="showInfo">点我提示信息</button>
                    <!-- 修饰符可以连续写 -->
                    <!-- <a href="http://www.atguigu.com" @click.prevent.stop="showInfo">点我提示信息</a> -->
                </div>
    
                <!-- 事件只触发一次（常用） -->
                <button @click.once="showInfo">点我提示信息</button>
    
                <!-- 使用事件的捕获模式 -->
                <div class="box1" @click.capture="showMsg(1)">
                    div1
                    <div class="box2" @click="showMsg(2)">
                        div2
                    </div>
                </div>
    
                <!-- 只有event.target是当前操作的元素时才触发事件； -->
                <div class="demo1" @click.self="showInfo">
                    <button @click="showInfo">点我提示信息</button>
                </div>
    
                <!-- 事件的默认行为立即执行，无需等待事件回调执行完毕； -->
                <ul @wheel.passive="demo" class="list">
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                </ul>
    
            </div>
        </body>
    
        <script type="text/javascript">
            Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。
    
            new Vue({
                el:'#root',
                data:{
                    name:'尚硅谷'
                },
                methods:{
                    showInfo(e){
                        alert('同学你好！')
                        // console.log(e.target)
                    },
                    showMsg(msg){
                        console.log(msg)
                    },
                    demo(){
                        for (let i = 0; i < 100000; i++) {
                            console.log('#')
                        }
                        console.log('累坏了')
                    }
                }
            })
        </script>
    </html>

#### 3. 键盘事件
    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>键盘事件基本使用</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                <h1>欢迎, {{name}}</h1>
                <!-- 
                    1. Vue常用按键别名：
                    回车 => enter
                    删除 => delete（捕获"删除"和"退格"键）
                    退出 => esc
                    空格 => space
                    换行 => tab（特殊，必须配合keydown使用）
                    上 => up
                    下 => down
                    左 => left
                    右 => right
    
                    2. 未提供别名的按键，可以使用按键原始的key值去绑定，但注意转为（大写转小写，加横杠）
                -->
                <input type="text" placeholder="按下回车提示输入" @keyup.caps-lock="showInfo">
            </div>
    
            <script type="text/javascript">
                new Vue({
                    el:'#root',
                    data:{
                        name:'尚硅谷'
                    },
                    methods:{
                        showInfo(e){
                            console.log(e.target.value)
                        }
                    },
                })
            </script>
        </body>
    </html>

# 七、计算属性
#### 1. 基本使用
    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>姓名案例_插值语法实现</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                姓：<input type="text" v-model="firstName">
                名：<input type="text" v-model="lastName">
                姓名：<span>{{fullName}}</span>
            </div>
    
            <script type="text/javascript">
                const vm = new Vue({
                    el:'#root',
                    data:{
                        firstName:'你',
                        lastName:'说'
                    },
                    computed:{
                        fullName:{
                            //get作用：
                            get(){
                                return this.firstName + '-' + this.lastName
                            },
                            set(value){
                                const arr = value.split('-')
                                this.firstName = arr[0]
                                this.lastName = arr[1]
                            }
                        }
                    }
                })
            </script>
        </body>
    </html>

#### 2. 简写（只读不改）
    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>姓名案例_插值语法实现</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                姓：<input type="text" v-model="firstName">
                名：<input type="text" v-model="lastName">
                姓名：<span>{{fullName}}</span>
            </div>
    
            <script type="text/javascript">
                const vm = new Vue({
                    el:'#root',
                    data:{
                        firstName:'你',
                        lastName:'说'
                    },
                    computed:{
                        fullName:function(){
                            return this.firstName + '_' + this.lastName
                        }
                    }
                })
            </script>
        </body>
    </html>

#### 3. 监视属性
    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>姓名案例_插值语法实现</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                <h2>天气：{{info}}</h2>
                <button @click="changeWeather">切换</button>
            </div>
    
            <script type="text/javascript">
                new Vue({
                    el:'#root',
                    data:{
                        isHot:true
                    },
                    computed:{
                        info(){
                            return this.isHot ? '热':'冷'
                        }
                    },
                    methods:{
                        changeWeather(){
                            this.isHot = !this.isHot
                        }
                    },
                    // //第一种做法：
                    // watch:{
                    //     isHot:{
                    //         handler(newValue, oldValue){
                    //             console.log(newValue, oldValue)
                    //         }
                    //     }
                    // }
                })
                //第二种做法：
                vm.$watch('isHot',{
                    handler(newValue, oldValue){
                        console.log(newValue, oldValue)
                    }
                })
            </script>
        </body>
    </html>

#### 4. 深度监视
    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>姓名案例_插值语法实现</title>
            <!--引入Vue-->
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
    
        <body>
            <!--容器-->
            <div id="root">
                <h2>天气：{{info}}</h2>
                <button @click="changeWeather">切换</button>
                <!--深度监视-->
                <button @click="numbers.b++">深度监视</button>
            </div>
    
            <script type="text/javascript">
                new Vue({
                    el:'#root',
                    data:{
                        isHot:true,
                        numbers:{
                            a:1,
                            b:1
                        }
                    },
                    computed:{
                        info(){
                            return this.isHot ? '热':'冷'
                        }
                    },
                    methods:{
                        changeWeather(){
                            this.isHot = !this.isHot
                        }
                    },
                    //第一种做法：
                    watch:{
                        isHot:{
                            handler(newValue, oldValue){
                                console.log(newValue, oldValue)
                            }
                        },
                        numbers:{
                            //（深度监视）监视多级结构中某个属性的变化
                            deep:true,
                            handler(){
                                console.log('number改变了')
                            }
                        }
                    }
                })
                //第二种做法：
                // vm.$watch('isHot',{
                //     handler(newValue, oldValue){
                //         console.log(newValue, oldValue)
                //     }
                // })
            </script>
        </body>
    </html>

# 八、绑定样式

    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8" />
            <title>姓名案例_插值语法实现</title>
            <!--引入Vue-->
            <style>
                .basic{
                    width: 400px;
                    height: 100px;
                    border: 1px solid black;
                }
    
                .happy{
                    border: 4px solid red;;
                    background-color: rgba(255, 255, 0, 0.644);
                    background: linear-gradient(30deg,yellow,pink,orange,yellow);
                }
                .sad{
                    border: 4px dashed rgb(2, 197, 2);
                    background-color: gray;
                }
                .normal{
                    background-color: skyblue;
                }
    
                .atguigu1{
                    background-color: yellowgreen;
                }
                .atguigu2{
                    font-size: 30px;
                    text-shadow:2px 2px 10px red;
                }
                .atguigu3{
                    border-radius: 20px;
                }
            </style>
    
            <script type="text/javascript" src="../js/vue.js"></script>
        </head>
     
        <body>
            <div id="root">
                <!-- 绑定class样式-字符串写法，适用于样式的类名不确定，需要动态指定 -->
                <div class="basic" :class="mood" @click="changeMood">{{name}}</div><br/><br/>
    
                <!-- 绑定class样式-数组写法，适用于样式个数不确定、名字也不确定 -->
                <div class="basic" :class="classArr">{{name}}</div><br/><br/>
    
                <!-- 绑定class样式-对象写法，适用于样式个数确定、名字也确定，但要动态决定用不用 -->
                <div class="basic" :class="classObj">{{name}}</div><br/><br/>
            </div>
    
            <script type="text/javascript">
                new Vue({
                    el:'#root',
                    data:{
                        name:"shanggui",
                        mood:'normal',
                        classArr:['atguigu1','atguigu2','atguigu3'],
                        classObj:{
                            atguigu1:true,
                            atguigu2:true
                        }
                    },
                    methods:{
                        changeMood(){
                            const arr = ['happy', 'sad', 'normal']
                            const index = Math.floor(Math.random()*3)
                            this.mood = arr[index]
                        }
                    }
                })
            </script>
        </body>
    </html>


